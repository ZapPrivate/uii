local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()

local RunService = game:GetService("RunService")

local LemonColors = {
    Yellow = Color3.fromRGB(255, 200, 0),
    Red = Color3.fromRGB(255, 60, 60),
    Orange = Color3.fromRGB(255, 120, 50),
}

Fluent.LemonColors = LemonColors

local function CreateAnimatedOutline(windowRoot)
    local borderContainer = Instance.new("Frame")
    borderContainer.Name = "LemonAnimatedBorder"
    borderContainer.BackgroundTransparency = 1
    borderContainer.Size = UDim2.new(1, 6, 1, 6)
    borderContainer.Position = UDim2.new(0, -3, 0, -3)
    borderContainer.ZIndex = 0
    borderContainer.Parent = windowRoot
    
    local borderFrame = Instance.new("Frame")
    borderFrame.Name = "GlowBorder"
    borderFrame.BackgroundColor3 = LemonColors.Yellow
    borderFrame.Size = UDim2.new(1, 0, 1, 0)
    borderFrame.ZIndex = 0
    borderFrame.Parent = borderContainer
    
    local borderCorner = Instance.new("UICorner")
    borderCorner.CornerRadius = UDim.new(0, 10)
    borderCorner.Parent = borderFrame
    
    local borderGradient = Instance.new("UIGradient")
    borderGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, LemonColors.Yellow),
        ColorSequenceKeypoint.new(0.25, LemonColors.Orange),
        ColorSequenceKeypoint.new(0.5, LemonColors.Red),
        ColorSequenceKeypoint.new(0.75, LemonColors.Orange),
        ColorSequenceKeypoint.new(1, LemonColors.Yellow)
    })
    borderGradient.Parent = borderFrame
    
    local innerMask = Instance.new("Frame")
    innerMask.Name = "InnerMask"
    innerMask.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    innerMask.Size = UDim2.new(1, -4, 1, -4)
    innerMask.Position = UDim2.new(0, 2, 0, 2)
    innerMask.ZIndex = 1
    innerMask.Parent = borderFrame
    
    local innerCorner = Instance.new("UICorner")
    innerCorner.CornerRadius = UDim.new(0, 8)
    innerCorner.Parent = innerMask
    
    local glowFrame = Instance.new("ImageLabel")
    glowFrame.Name = "OuterGlow"
    glowFrame.BackgroundTransparency = 1
    glowFrame.Image = "rbxassetid://5028857084"
    glowFrame.ImageColor3 = LemonColors.Yellow
    glowFrame.ImageTransparency = 0.7
    glowFrame.ScaleType = Enum.ScaleType.Slice
    glowFrame.SliceCenter = Rect.new(24, 24, 276, 276)
    glowFrame.Size = UDim2.new(1, 20, 1, 20)
    glowFrame.Position = UDim2.new(0, -10, 0, -10)
    glowFrame.ZIndex = -1
    glowFrame.Parent = borderContainer
    
    local glowGradient = Instance.new("UIGradient")
    glowGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, LemonColors.Yellow),
        ColorSequenceKeypoint.new(0.5, LemonColors.Red),
        ColorSequenceKeypoint.new(1, LemonColors.Yellow)
    })
    glowGradient.Parent = glowFrame
    
    local animationTime = 0
    local connection
    connection = RunService.RenderStepped:Connect(function(deltaTime)
        if Fluent.Unloaded or not borderContainer or not borderContainer.Parent then
            connection:Disconnect()
            return
        end
        
        animationTime = animationTime + deltaTime
        borderGradient.Rotation = (animationTime * 50) % 360
        borderGradient.Offset = Vector2.new(math.sin(animationTime * 0.4 * math.pi * 2) * 0.35, math.cos(animationTime * 0.4 * math.pi * 2) * 0.35)
        glowFrame.ImageTransparency = math.sin(animationTime * 2) * 0.15 + 0.65
        glowGradient.Rotation = (360 - (animationTime * 25)) % 360
        glowFrame.ImageColor3 = LemonColors.Yellow:Lerp(LemonColors.Red, (math.sin(animationTime * 0.5) + 1) / 2)
    end)
    
    return borderContainer, connection
end

local originalCreateWindow = Fluent.CreateWindow

Fluent.CreateWindow = function(self, options)
    local window = originalCreateWindow(self, options)
    
    task.spawn(function()
        task.wait(0.2)
        if window and window.Root then
            local outline, conn = CreateAnimatedOutline(window.Root)
            window.LemonOutline = outline
            window.LemonOutlineConnection = conn
        end
    end)
    
    return window
end

return Fluent
